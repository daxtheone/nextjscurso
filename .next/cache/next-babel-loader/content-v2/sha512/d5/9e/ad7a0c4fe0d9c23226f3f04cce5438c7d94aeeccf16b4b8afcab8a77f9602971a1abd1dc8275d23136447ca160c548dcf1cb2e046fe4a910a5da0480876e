{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/danielrico/podcasts/pages/channel/[id].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Layout from '../../components/Layout';\nimport ListAudioClips from '../../components/ListAudioClips';\nimport ListSeries from '../../components/ListSeries';\nimport Error from './../_error';\n\nfunction channel({\n  channel,\n  audioClips,\n  series,\n  statusCode\n}) {\n  if (statusCode !== 200) {\n    return /*#__PURE__*/_jsxDEV(Error, {\n      statusCode: statusCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      title: `Canal ${channel.title}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"jsx-2920312737\",\n      children: channel.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-2920312737\",\n      children: \"\\xDAltimos podcasts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), audioClips.map(clip => {\n      return /*#__PURE__*/_jsxDEV(ListAudioClips, {\n        clip: clip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 16\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-2920312737\",\n      children: \"Series\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), series.map(serie => {\n      return /*#__PURE__*/_jsxDEV(ListSeries, {\n        serie: serie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2920312737\",\n      children: \"h1.jsx-2920312737{font-weight:600;padding:15px;}h2.jsx-2920312737{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-aling:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhbmllbHJpY28vcG9kY2FzdHMvcGFnZXMvY2hhbm5lbC9baWRdLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXNCa0IsQUFHMkIsQUFJRixZQUNJLElBSkwsWUFLSyxDQUpwQixlQUthLFNBQ1Msa0JBQ3RCIiwiZmlsZSI6Ii9ob21lL2RhbmllbHJpY28vcG9kY2FzdHMvcGFnZXMvY2hhbm5lbC9baWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExheW91dCBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xheW91dCdcbmltcG9ydCBMaXN0QXVkaW9DbGlwcyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xpc3RBdWRpb0NsaXBzJ1xuaW1wb3J0IExpc3RTZXJpZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MaXN0U2VyaWVzJ1xuaW1wb3J0IEVycm9yIGZyb20gJy4vLi4vX2Vycm9yJ1xuXG5mdW5jdGlvbiBjaGFubmVsKHsgY2hhbm5lbCwgYXVkaW9DbGlwcywgc2VyaWVzLCBzdGF0dXNDb2RlIH0pIHtcbiAgaWYgKCBzdGF0dXNDb2RlICE9PSAyMDAgKXtcbiAgICByZXR1cm4gPEVycm9yIHN0YXR1c0NvZGU9e3N0YXR1c0NvZGV9IC8+IFxuICB9XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxMYXlvdXQgdGl0bGU9e2BDYW5hbCAke2NoYW5uZWwudGl0bGV9YH0+PC9MYXlvdXQ+XG4gICAgICA8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cbiAgICAgIDxoMj7Dmmx0aW1vcyBwb2RjYXN0czwvaDI+XG4gICAgICB7IGF1ZGlvQ2xpcHMubWFwKChjbGlwKT0+e1xuICAgICAgICByZXR1cm4gPExpc3RBdWRpb0NsaXBzIGNsaXA9e2NsaXB9IC8+XG4gICAgICB9KSB9XG4gICAgICA8aDI+U2VyaWVzPC9oMj5cbiAgICAgICB7IHNlcmllcy5tYXAoKHNlcmllKT0+e1xuICAgICAgICAgcmV0dXJuIDxMaXN0U2VyaWVzIHNlcmllPXtzZXJpZX0gLz5cbiAgICAgIH0pIH1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgaDEge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgfVxuICAgICAgICBoMiB7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHRleHQtYWxpbmc6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKCB7IHF1ZXJ5LCByZXMgfSkge1xuXG4gIGNvbnN0IGNoYW5uZWxJZCA9IHF1ZXJ5LmlkXG4gIHRyeSB7XG4gICAgbGV0IFtyZXFDaGFubmVsLCByZXFTZXJpZXMsIHJlcUF1ZGlvc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2NoYW5uZWxJZH1gKSxcbiAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7Y2hhbm5lbElkfS9jaGlsZF9jaGFubmVsc2ApLFxuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtjaGFubmVsSWR9L2F1ZGlvX2NsaXBzYClcbiAgICBdKVxuICAgIGlmICggcmVxQ2hhbm5lbC5zdGF0dXMgPj0gNDA0ICkge1xuICAgICAgcmVzLnN0YXR1c0NvZGUgPSByZXFDaGFubmVsLnN0YXR1c1xuICAgICAgcmV0dXJuIHsgcHJvcHM6IHsgY2hhbm5lbDogbnVsbCwgYXVkaW9DbGlwczogbnVsbCwgc2VyaWVzOiBudWxsLCBzdGF0dXNDb2RlOiByZXFDaGFubmVsLnN0YXR1cyB9IH1cbiAgICB9XG5cbiAgICBjb25zdCBkYXRhQ2hhbm5lbCA9IGF3YWl0IHJlcUNoYW5uZWwuanNvbigpXG4gICAgY29uc3QgY2hhbm5lbCA9IGRhdGFDaGFubmVsLmJvZHkuY2hhbm5lbCBcbiAgXG4gICAgY29uc3QgZGF0YUF1ZGlvcyA9IGF3YWl0IHJlcUF1ZGlvcy5qc29uKClcbiAgICBjb25zdCBhdWRpb0NsaXBzID0gZGF0YUF1ZGlvcy5ib2R5LmF1ZGlvX2NsaXBzICBcbiAgXG4gICAgY29uc3QgZGF0YVNlcmllcyA9IGF3YWl0IHJlcVNlcmllcy5qc29uKClcbiAgICBjb25zdCBzZXJpZXMgPSBkYXRhU2VyaWVzLmJvZHkuY2hhbm5lbHNcbiAgICBcbiAgICAvKlxuICAgIGNvbnN0IHJlcUNoYW5uZWwgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2NoYW5uZWxJZH1gKVxuICAgIGNvbnN0IGRhdGFDaGFubmVsID0gYXdhaXQgcmVxQ2hhbm5lbC5qc29uKClcbiAgICBjb25zdCBjaGFubmVsID0gZGF0YUNoYW5uZWwuYm9keS5jaGFubmVsIFxuICBcbiAgICBjb25zdCByZXFBdWRpb3MgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2NoYW5uZWxJZH0vYXVkaW9fY2xpcHNgKVxuICAgIGNvbnN0IGRhdGFBdWRpb3MgPSBhd2FpdCByZXFBdWRpb3MuanNvbigpXG4gICAgY29uc3QgYXVkaW9DbGlwcyA9IGRhdGFBdWRpb3MuYm9keS5hdWRpb19jbGlwcyAgXG4gIFxuICAgIGNvbnN0IHJlcVNlcmllcyA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7Y2hhbm5lbElkfS9jaGlsZF9jaGFubmVsc2ApXG4gICAgY29uc3QgZGF0YVNlcmllcyA9IGF3YWl0IHJlcVNlcmllcy5qc29uKClcbiAgICBjb25zdCBzZXJpZXMgPSBkYXRhU2VyaWVzLmJvZHkuY2hhbm5lbHMgIFxuICBcbiAgICAqL1xuICBcbiAgICByZXR1cm4geyBwcm9wczogeyBjaGFubmVsLCBhdWRpb0NsaXBzLCBzZXJpZXMsIHN0YXR1c0NvZGU6IDIwMCB9IH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXMuc3RhdHVzQ29kZSA9IDUwM1xuICAgIHJldHVybiB7IHByb3BzOiB7IGNoYW5uZWw6IG51bGwsIGF1ZGlvQ2xpcHM6IG51bGwsIHNlcmllczogbnVsbCwgc3RhdHVzQ29kZTogNTAzIH0gfVxuICB9XG5cblxufVxuZXhwb3J0IGRlZmF1bHQgY2hhbm5lbFxuIl19 */\\n/*@ sourceURL=/home/danielrico/podcasts/pages/channel/[id].js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n}\n\nexport async function getServerSideProps({\n  query,\n  res\n}) {\n  const channelId = query.id;\n\n  try {\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([fetch(`https://api.audioboom.com/channels/${channelId}`), fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`), fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)]);\n\n    if (reqChannel.status >= 404) {\n      res.statusCode = reqChannel.status;\n      return {\n        props: {\n          channel: null,\n          audioClips: null,\n          series: null,\n          statusCode: reqChannel.status\n        }\n      };\n    }\n\n    const dataChannel = await reqChannel.json();\n    const channel = dataChannel.body.channel;\n    const dataAudios = await reqAudios.json();\n    const audioClips = dataAudios.body.audio_clips;\n    const dataSeries = await reqSeries.json();\n    const series = dataSeries.body.channels;\n    /*\n    const reqChannel = await fetch(`https://api.audioboom.com/channels/${channelId}`)\n    const dataChannel = await reqChannel.json()\n    const channel = dataChannel.body.channel \n       const reqAudios = await fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)\n    const dataAudios = await reqAudios.json()\n    const audioClips = dataAudios.body.audio_clips  \n       const reqSeries = await fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`)\n    const dataSeries = await reqSeries.json()\n    const series = dataSeries.body.channels  \n       */\n\n    return {\n      props: {\n        channel,\n        audioClips,\n        series,\n        statusCode: 200\n      }\n    };\n  } catch (e) {\n    res.statusCode = 503;\n    return {\n      props: {\n        channel: null,\n        audioClips: null,\n        series: null,\n        statusCode: 503\n      }\n    };\n  }\n}\nexport default channel;","map":{"version":3,"sources":["/home/danielrico/podcasts/pages/channel/[id].js"],"names":["React","Layout","ListAudioClips","ListSeries","Error","channel","audioClips","series","statusCode","title","map","clip","serie","getServerSideProps","query","res","channelId","id","reqChannel","reqSeries","reqAudios","Promise","all","fetch","status","props","dataChannel","json","body","dataAudios","audio_clips","dataSeries","channels","e"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Layout from '../../components/Layout'\nimport ListAudioClips from '../../components/ListAudioClips'\nimport ListSeries from '../../components/ListSeries'\nimport Error from './../_error'\n\nfunction channel({ channel, audioClips, series, statusCode }) {\n  if ( statusCode !== 200 ){\n    return <Error statusCode={statusCode} /> \n  }\n  return (\n    <>\n      <Layout title={`Canal ${channel.title}`}></Layout>\n      <h1>{channel.title}</h1>\n      <h2>Últimos podcasts</h2>\n      { audioClips.map((clip)=>{\n        return <ListAudioClips clip={clip} />\n      }) }\n      <h2>Series</h2>\n       { series.map((serie)=>{\n         return <ListSeries serie={serie} />\n      }) }\n      <style jsx>{`\n        h1 {\n          font-weight: 600;\n          padding: 15px;\n        }\n        h2 {\n            padding: 5px;\n            font-size: 0.9em;\n            font-weight: 600;\n            margin: 0;\n            text-aling: center;\n        }\n    `}</style>\n    </>\n  )\n}\n\nexport async function getServerSideProps( { query, res }) {\n\n  const channelId = query.id\n  try {\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n      fetch(`https://api.audioboom.com/channels/${channelId}`),\n      fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`),\n      fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)\n    ])\n    if ( reqChannel.status >= 404 ) {\n      res.statusCode = reqChannel.status\n      return { props: { channel: null, audioClips: null, series: null, statusCode: reqChannel.status } }\n    }\n\n    const dataChannel = await reqChannel.json()\n    const channel = dataChannel.body.channel \n  \n    const dataAudios = await reqAudios.json()\n    const audioClips = dataAudios.body.audio_clips  \n  \n    const dataSeries = await reqSeries.json()\n    const series = dataSeries.body.channels\n    \n    /*\n    const reqChannel = await fetch(`https://api.audioboom.com/channels/${channelId}`)\n    const dataChannel = await reqChannel.json()\n    const channel = dataChannel.body.channel \n  \n    const reqAudios = await fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)\n    const dataAudios = await reqAudios.json()\n    const audioClips = dataAudios.body.audio_clips  \n  \n    const reqSeries = await fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`)\n    const dataSeries = await reqSeries.json()\n    const series = dataSeries.body.channels  \n  \n    */\n  \n    return { props: { channel, audioClips, series, statusCode: 200 } };\n  } catch (e) {\n    res.statusCode = 503\n    return { props: { channel: null, audioClips: null, series: null, statusCode: 503 } }\n  }\n\n\n}\nexport default channel\n"]},"metadata":{},"sourceType":"module"}