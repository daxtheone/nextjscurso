{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/danielrico/podcasts/pages/channel/[id].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Layout from '../../components/Layout';\nimport ListAudioClips from '../../components/ListAudioClips';\nimport ListSeries from '../../components/ListSeries';\nimport Error from './../_error';\n\nfunction channel(_ref) {\n  var _this = this;\n\n  var channel = _ref.channel,\n      audioClips = _ref.audioClips,\n      series = _ref.series,\n      statusCode = _ref.statusCode;\n\n  if (statusCode !== 200) {\n    return /*#__PURE__*/_jsxDEV(Error, {\n      statusCode: statusCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      title: \"Canal \".concat(channel.title)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"jsx-3766649058\",\n      children: channel.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-3766649058\",\n      children: \"\\xDAltimos podcasts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-3766649058\" + \" \" + 'contenedor',\n      children: audioClips.map(function (clip) {\n        return /*#__PURE__*/_jsxDEV(ListAudioClips, {\n          clip: clip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 20\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-3766649058\",\n      children: \"Series\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), series.map(function (serie) {\n      return /*#__PURE__*/_jsxDEV(ListSeries, {\n        serie: serie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, _this);\n    }), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3766649058\",\n      children: \".contenedor.jsx-3766649058{display:grid;grid-gap:15px;padding:15px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));}h1.jsx-3766649058{font-weight:600;padding:15px;}h2.jsx-3766649058{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-aling:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhbmllbHJpY28vcG9kY2FzdHMvcGFnZXMvY2hhbm5lbC9baWRdLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRCa0IsQUFHMEIsQUFNQyxBQUlGLFlBQ0ksQ0FWRixHQU1ILFdBTEUsQ0FVRyxDQUpwQixXQUxnRSxJQVVuRCxTQUNTLGtCQUN0QiwyQkFYQSIsImZpbGUiOiIvaG9tZS9kYW5pZWxyaWNvL3BvZGNhc3RzL3BhZ2VzL2NoYW5uZWwvW2lkXS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnXG5pbXBvcnQgTGlzdEF1ZGlvQ2xpcHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MaXN0QXVkaW9DbGlwcydcbmltcG9ydCBMaXN0U2VyaWVzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTGlzdFNlcmllcydcbmltcG9ydCBFcnJvciBmcm9tICcuLy4uL19lcnJvcidcblxuZnVuY3Rpb24gY2hhbm5lbCh7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZSB9KSB7XG4gIGlmICggc3RhdHVzQ29kZSAhPT0gMjAwICl7XG4gICAgcmV0dXJuIDxFcnJvciBzdGF0dXNDb2RlPXtzdGF0dXNDb2RlfSAvPiBcbiAgfVxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8TGF5b3V0IHRpdGxlPXtgQ2FuYWwgJHtjaGFubmVsLnRpdGxlfWB9PjwvTGF5b3V0PlxuICAgICAgPGgxPntjaGFubmVsLnRpdGxlfTwvaDE+XG4gICAgICA8aDI+w5psdGltb3MgcG9kY2FzdHM8L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbmVkb3InPlxuICAgICAgICB7IFxuICAgICAgICAgIGF1ZGlvQ2xpcHMubWFwKChjbGlwKT0+e1xuICAgICAgICAgICAgcmV0dXJuIDxMaXN0QXVkaW9DbGlwcyBjbGlwPXtjbGlwfSAvPlxuICAgICAgICAgIH0pIFxuICAgICAgICB9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8aDI+U2VyaWVzPC9oMj5cbiAgICAgICB7IHNlcmllcy5tYXAoKHNlcmllKT0+e1xuICAgICAgICAgcmV0dXJuIDxMaXN0U2VyaWVzIHNlcmllPXtzZXJpZX0gLz5cbiAgICAgIH0pIH1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmNvbnRlbmVkb3J7XG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgZ3JpZC1nYXA6IDE1cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTYwcHgsIDFmcikpO1xuICAgICAgICB9XG4gICAgICAgIGgxIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgaDIge1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICB0ZXh0LWFsaW5nOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyggeyBxdWVyeSwgcmVzIH0pIHtcblxuICBjb25zdCBjaGFubmVsSWQgPSBxdWVyeS5pZFxuICB0cnkge1xuICAgIGxldCBbcmVxQ2hhbm5lbCwgcmVxU2VyaWVzLCByZXFBdWRpb3NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtjaGFubmVsSWR9YCksXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2NoYW5uZWxJZH0vY2hpbGRfY2hhbm5lbHNgKSxcbiAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7Y2hhbm5lbElkfS9hdWRpb19jbGlwc2ApXG4gICAgXSlcbiAgICBpZiAoIHJlcUNoYW5uZWwuc3RhdHVzID49IDQwNCApIHtcbiAgICAgIHJlcy5zdGF0dXNDb2RlID0gcmVxQ2hhbm5lbC5zdGF0dXNcbiAgICAgIHJldHVybiB7IHByb3BzOiB7IGNoYW5uZWw6IG51bGwsIGF1ZGlvQ2xpcHM6IG51bGwsIHNlcmllczogbnVsbCwgc3RhdHVzQ29kZTogcmVxQ2hhbm5lbC5zdGF0dXMgfSB9XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YUNoYW5uZWwgPSBhd2FpdCByZXFDaGFubmVsLmpzb24oKVxuICAgIGNvbnN0IGNoYW5uZWwgPSBkYXRhQ2hhbm5lbC5ib2R5LmNoYW5uZWwgXG4gIFxuICAgIGNvbnN0IGRhdGFBdWRpb3MgPSBhd2FpdCByZXFBdWRpb3MuanNvbigpXG4gICAgY29uc3QgYXVkaW9DbGlwcyA9IGRhdGFBdWRpb3MuYm9keS5hdWRpb19jbGlwcyAgXG4gIFxuICAgIGNvbnN0IGRhdGFTZXJpZXMgPSBhd2FpdCByZXFTZXJpZXMuanNvbigpXG4gICAgY29uc3Qgc2VyaWVzID0gZGF0YVNlcmllcy5ib2R5LmNoYW5uZWxzXG4gICAgXG4gICAgLypcbiAgICBjb25zdCByZXFDaGFubmVsID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtjaGFubmVsSWR9YClcbiAgICBjb25zdCBkYXRhQ2hhbm5lbCA9IGF3YWl0IHJlcUNoYW5uZWwuanNvbigpXG4gICAgY29uc3QgY2hhbm5lbCA9IGRhdGFDaGFubmVsLmJvZHkuY2hhbm5lbCBcbiAgXG4gICAgY29uc3QgcmVxQXVkaW9zID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtjaGFubmVsSWR9L2F1ZGlvX2NsaXBzYClcbiAgICBjb25zdCBkYXRhQXVkaW9zID0gYXdhaXQgcmVxQXVkaW9zLmpzb24oKVxuICAgIGNvbnN0IGF1ZGlvQ2xpcHMgPSBkYXRhQXVkaW9zLmJvZHkuYXVkaW9fY2xpcHMgIFxuICBcbiAgICBjb25zdCByZXFTZXJpZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2NoYW5uZWxJZH0vY2hpbGRfY2hhbm5lbHNgKVxuICAgIGNvbnN0IGRhdGFTZXJpZXMgPSBhd2FpdCByZXFTZXJpZXMuanNvbigpXG4gICAgY29uc3Qgc2VyaWVzID0gZGF0YVNlcmllcy5ib2R5LmNoYW5uZWxzICBcbiAgXG4gICAgKi9cbiAgXG4gICAgcmV0dXJuIHsgcHJvcHM6IHsgY2hhbm5lbCwgYXVkaW9DbGlwcywgc2VyaWVzLCBzdGF0dXNDb2RlOiAyMDAgfSB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSA1MDNcbiAgICByZXR1cm4geyBwcm9wczogeyBjaGFubmVsOiBudWxsLCBhdWRpb0NsaXBzOiBudWxsLCBzZXJpZXM6IG51bGwsIHN0YXR1c0NvZGU6IDUwMyB9IH1cbiAgfVxuXG5cbn1cbmV4cG9ydCBkZWZhdWx0IGNoYW5uZWxcbiJdfQ== */\\n/*@ sourceURL=/home/danielrico/podcasts/pages/channel/[id].js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n}\n\nexport var __N_SSP = true;\nexport default channel;","map":{"version":3,"sources":["/home/danielrico/podcasts/pages/channel/[id].js"],"names":["React","Layout","ListAudioClips","ListSeries","Error","channel","audioClips","series","statusCode","title","map","clip","serie"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,aAAlB;;AAEA,SAASC,OAAT,OAA8D;AAAA;;AAAA,MAA3CA,OAA2C,QAA3CA,OAA2C;AAAA,MAAlCC,UAAkC,QAAlCA,UAAkC;AAAA,MAAtBC,MAAsB,QAAtBA,MAAsB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC5D,MAAKA,UAAU,KAAK,GAApB,EAAyB;AACvB,wBAAO,QAAC,KAAD;AAAO,MAAA,UAAU,EAAEA;AAAnB;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,sBACE;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,KAAK,kBAAWH,OAAO,CAACI,KAAnB;AAAb;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA,gBAAKJ,OAAO,CAACI;AAAb;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE;AAAA,0CAAe,YAAf;AAAA,gBAEIH,UAAU,CAACI,GAAX,CAAe,UAACC,IAAD,EAAQ;AACrB,4BAAO,QAAC,cAAD;AAAgB,UAAA,IAAI,EAAEA;AAAtB;AAAA;AAAA;AAAA;AAAA,iBAAP;AACD,OAFD;AAFJ;AAAA;AAAA;AAAA;AAAA,YAJF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbF,EAcKJ,MAAM,CAACG,GAAP,CAAW,UAACE,KAAD,EAAS;AACpB,0BAAO,QAAC,UAAD;AAAY,QAAA,KAAK,EAAEA;AAAnB;AAAA;AAAA;AAAA;AAAA,eAAP;AACF,KAFE,CAdL;AAAA;AAAA;AAAA;AAAA,kBADF;AAuCD;;;AAgDD,eAAeP,OAAf","sourcesContent":["import React from 'react'\nimport Layout from '../../components/Layout'\nimport ListAudioClips from '../../components/ListAudioClips'\nimport ListSeries from '../../components/ListSeries'\nimport Error from './../_error'\n\nfunction channel({ channel, audioClips, series, statusCode }) {\n  if ( statusCode !== 200 ){\n    return <Error statusCode={statusCode} /> \n  }\n  return (\n    <>\n      <Layout title={`Canal ${channel.title}`}></Layout>\n      <h1>{channel.title}</h1>\n      <h2>Ãšltimos podcasts</h2>\n      <div className='contenedor'>\n        { \n          audioClips.map((clip)=>{\n            return <ListAudioClips clip={clip} />\n          }) \n        }\n\n      </div>\n      \n      <h2>Series</h2>\n       { series.map((serie)=>{\n         return <ListSeries serie={serie} />\n      }) }\n      <style jsx>{`\n        .contenedor{\n            display: grid;\n            grid-gap: 15px;\n            padding: 15px;\n            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n        }\n        h1 {\n          font-weight: 600;\n          padding: 15px;\n        }\n        h2 {\n            padding: 5px;\n            font-size: 0.9em;\n            font-weight: 600;\n            margin: 0;\n            text-aling: center;\n        }\n    `}</style>\n    </>\n  )\n}\n\nexport async function getServerSideProps( { query, res }) {\n\n  const channelId = query.id\n  try {\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n      fetch(`https://api.audioboom.com/channels/${channelId}`),\n      fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`),\n      fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)\n    ])\n    if ( reqChannel.status >= 404 ) {\n      res.statusCode = reqChannel.status\n      return { props: { channel: null, audioClips: null, series: null, statusCode: reqChannel.status } }\n    }\n\n    const dataChannel = await reqChannel.json()\n    const channel = dataChannel.body.channel \n  \n    const dataAudios = await reqAudios.json()\n    const audioClips = dataAudios.body.audio_clips  \n  \n    const dataSeries = await reqSeries.json()\n    const series = dataSeries.body.channels\n    \n    /*\n    const reqChannel = await fetch(`https://api.audioboom.com/channels/${channelId}`)\n    const dataChannel = await reqChannel.json()\n    const channel = dataChannel.body.channel \n  \n    const reqAudios = await fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`)\n    const dataAudios = await reqAudios.json()\n    const audioClips = dataAudios.body.audio_clips  \n  \n    const reqSeries = await fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`)\n    const dataSeries = await reqSeries.json()\n    const series = dataSeries.body.channels  \n  \n    */\n  \n    return { props: { channel, audioClips, series, statusCode: 200 } };\n  } catch (e) {\n    res.statusCode = 503\n    return { props: { channel: null, audioClips: null, series: null, statusCode: 503 } }\n  }\n\n\n}\nexport default channel\n"]},"metadata":{},"sourceType":"module"}